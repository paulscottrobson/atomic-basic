; *****************************************************************************
; *****************************************************************************
;
;		Name:		assembler.def
;		Author:		Paul Robson (paul@robsons.org.uk)
;					(based on analysis by Neil Parker)
;		Date:		12 Dec 2020
;		Purpose:	Descriptor file from assembler
;
; *****************************************************************************
; *****************************************************************************

; *****************************************************************************
;		
;		These is first because it would be picked up on group 2/3 otherwise
;
; *****************************************************************************

[specific]

24 	bit 	(0)
1A 	inc 	(2)
3A 	dec 	(2)

; *****************************************************************************
;
;		Group 1. Immediate is 002, 000 is (z,x) and (z) is a special case.
;
;			There are no [] here because they are all [********]. 
;					Sta immediate is handled in the modifier
;
; *****************************************************************************

[group1]

01 	ora
21 	and
41 	eor
61 	sta 	
81 	lda
a1 	cmp
e1 	sbc

; *****************************************************************************
;
;									Group 2
;
; *****************************************************************************

[group2]

02 	asl		[-***-*-*]
22 	rol		[-***-*-*]
42 	lsr 	[-***-*-*]
62 	ror 	[-***-*-*]
82 	stx 	[-*-*-*--]
a2 	ldx		[**-*-*-*]
c2 	dec		[-*-*-*-*]
e2 	inc		[-*-*-*-*]
f2 	stz 	[-*-*-*-*]

; *****************************************************************************
;
;									 Group 3
;
; *****************************************************************************

[group3]

20 	bit		[-*-*-*-*]
80 	sty		[-*-*-*--]
a0	ldy 	[**-*-*--]
c0 	cpy		[**-*----]
e0 	cpx		[**-*----]

; *****************************************************************************
;
;								  Relative Branches
;
; *****************************************************************************
[specific]

10	bpl		(10)	 
30	bmi		(10)
50	bvc		(10)
70	bcs		(10)
90	bcc		(10)
b0	bcs 	(10)
d0	bne		(10)
f0	beq		(10)

; *****************************************************************************
;
;									Jumps and calls
;
; *****************************************************************************

20 	jsr 	(3)
4c	jmp		(3)
6c 	jmp		(9)

; *****************************************************************************
;
;									Miscellaneous
;
; *****************************************************************************

[implied]

00 	brk
40 	rti
60	rts

08 	php
28 	plp
48 	pha
68 	pla
88 	dey
a8 	tay
c8 	iny
e8 	inx

18 	clc
38	sec
58 	cli
78 	sei
98 	tya
b8 	clv
d8 	cld
f8 	sed

8A	txa
9A	txs
AA 	tax 
BA 	tsx
CA 	dex
EA 	nop

; *****************************************************************************
;
;			65C02 extensions (z) mode is handled as part of Group 1.
;	bit abs,x and bit z,x are integrated into group 3 as they are logical.
;		 bit# inc a and dec a are done in advance because they are not
;
; *****************************************************************************

[specific]
7C 	jmp 	(8)
80 	bra		(10)

[implied]
5a 	phy 	
7a 	ply 	
da 	phx 	
fa 	phy 	
